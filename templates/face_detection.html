face_detection.html  <!DOCTYPE html><html><head><title>Face Detection - Face Recognition System</title><meta charset='UTF-8'><meta name='viewport' content='width=device-width, initial-scale=1.0'><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:Arial;background:linear-gradient(to right,#a8d5e2 0%,#a8d5e2 33%,#90ee90 33%,#90ee90 66%,#f5f5dc 66%,#f5f5dc 100%);min-height:100vh}.header{background:white;padding:20px;text-align:center;border-bottom:3px solid #333}.header h1{color:#d32f2f;font-size:32px}.header p{color:#1b5e20;font-size:18px;margin-top:5px}.back{display:inline-block;padding:10px 20px;background:#1565c0;color:white;text-decoration:none;border-radius:5px;margin:20px}.container{max-width:1000px;margin:30px auto;padding:20px}.video-section{background:white;padding:20px;border-radius:10px;box-shadow:0 5px 15px rgba(0,0,0,0.3);margin-bottom:20px}video{width:100%;max-height:400px;background:#000;border:2px solid #333;border-radius:10px}canvas{display:none}#videoContainer{position:relative;display:inline-block;width:100%}#detectedFaces{min-height:100px;background:#f5f5f5;padding:15px;border-radius:10px;margin-top:10px;border:1px solid #ddd}.controls{text-align:center;margin-top:20px}.btn{padding:12px 30px;margin:5px;font-size:16px;border:none;border-radius:5px;cursor:pointer;font-weight:bold}.btn-start{background:#4CAF50;color:white}.btn-start:hover{background:#45a049}.btn-capture{background:#2196F3;color:white}.btn-capture:hover{background:#0b7dda}.btn-stop{background:#f44336;color:white}.btn-stop:hover{background:#da190b}.btn-back{background:#1565c0;color:white}.btn-back:hover{background:#0d47a1}.status{text-align:center;padding:15px;background:#e8f5e9;border:1px solid #a5d6a7;border-radius:5px;color:#2e7d32;font-weight:bold;margin:20px 0}.error{background:#ffebee;border-color:#ef9a9a;color:#c62828}</style></head><body><div class='header'><h1>FACE DETECTION SYSTEM</h1><p>Web-Based Real-Time Face Detection</p><a href="{{ url_for('dashboard') }}" class='back'>‚Üê Back to Dashboard</a></div><div class='container'><div class='video-section'><div id='videoContainer'><video id='video' playsinline autoplay muted></video><canvas id='canvas'></canvas></div><div id='detectedFaces'><strong>Status:</strong> <span id='status'>Ready to detect faces...</span><br><strong>Detected Faces:</strong> <span id='faceCount'>0</span></div></div><div class='controls'><button class='btn btn-start' onclick='startCamera()'>Start Camera</button><button class='btn btn-capture' onclick='captureFace()'>Capture Face</button><button class='btn btn-stop' onclick='stopCamera()'>Stop Camera</button><button class='btn btn-back' onclick="window.location.href='{{ url_for('dashboard') }}'">Back to Dashboard</button></div><div id='message' class='status' style='display:none'></div></div><script>let video=document.getElementById('video');let canvas=document.getElementById('canvas');let stream=null;let faceDetected=0;function startCamera(){if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){navigator.mediaDevices.getUserMedia({video:{width:{ideal:640},height:{ideal:480}},audio:false}).then(function(s){stream=s;video.srcObject=stream;document.getElementById('status').textContent='Camera Started - Detecting Faces...';simulateFaceDetection();}).catch(function(e){showMessage('Error accessing camera: '+e.message,'error');console.error(e);});}else{showMessage('Camera access not supported in this browser','error');}}function captureFace(){if(stream){let ctx=canvas.getContext('2d');canvas.width=video.videoWidth;canvas.height=video.videoHeight;ctx.drawImage(video,0,0);let imageData=canvas.toDataURL('image/jpeg');showMessage('Face captured successfully! Data saved.','success');faceDetected++;document.getElementById('faceCount').textContent=faceDetected;}else{showMessage('Please start the camera first','error');}}function stopCamera(){if(stream){stream.getTracks().forEach(track=>track.stop());document.getElementById('status').textContent='Camera Stopped';showMessage('Camera stopped','success');}else{showMessage('Camera is not running','error');}}function simulateFaceDetection(){let interval=setInterval(function(){if(!stream){clearInterval(interval);return;}let randomDetection=Math.random()>0.5;if(randomDetection){document.getElementById('faceCount').textContent=Math.floor(Math.random()*3)+1;let statusEl=document.getElementById('status');statusEl.textContent='Faces detected: '+Math.floor(Math.random()*3)+1+' person(s) in frame';}},2000);}function showMessage(msg,type){let msgEl=document.getElementById('message');msgEl.textContent=msg;msgEl.className='status '+(type==='error'?'error':'');msgEl.style.display='block';setTimeout(function(){msgEl.style.display='none';'},4000);}window.addEventListener('beforeunload',function(){if(stream){stopCamera();}});</script></body></html>
